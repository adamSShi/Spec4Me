
---

## A. 分享入口 & UI 切版

### 區塊說明
提供使用者可觸發「定位分享」的操作入口，並顯示分享介面。

### UI 參考
UI 規劃與操作示意請直接參考以下簡報內容：  
https://docs.google.com/presentation/d/17Bg6iUEOxosl8wlkhVkOICeWhdTMNN1g2Ltk8RfrA-4/edit?slide=id.g3a29b6ec33a_0_1385#slide=id.g3a29b6ec33a_0_1385

---

## B. 分享資料取得（地圖狀態）

### 區塊說明
系統需能取得使用者目前地圖所顯示的「中心位置」。

### 對應需求內容
- 定位分享定義為「使用者將目前地圖中心位置產生分享連結」
- 使用者在地圖上移動至欲分享的位置後進行分享

### 輸出資料
- 緯度（lat）
- 經度（lng）

---

## C. 分享連結組合（URL Builder）

### 區塊說明
將取得的定位資料組合成可被分享的 iMap 連結。

### 對應需求內容
- 系統可產生包含座標資訊的分享連結
- 分享連結需包含可解析之定位參數

### 連結參數（初步）
| 參數 | 說明 |
|----|----|
| lat | 緯度 |
| lng | 經度 |

---

## D. 分享動作（Copy / System Share）

### 區塊說明
提供使用者將已產生的分享連結進行分享的實際操作。

### 對應需求內容
- 使用者可複製分享連結
- 使用者可透過其他 App 將連結分享給他人

---

## E. 連結接收與解析

### 區塊說明
當接收者透過分享連結進入 iMap 時，系統需解析連結內容。

### 對應需求內容
- 系統解析連結參數
- 判斷是否包含必要的定位資訊

---

## F. 地圖定位與錯誤處理

### 區塊說明
根據解析結果，控制地圖行為並處理錯誤情境。

### 對應需求內容
- 地圖可依連結參數自動移動至指定位置
- 地圖上顯示該位置的定位標記

### 錯誤處理
| 情境 | 預期行為 |
|----|----|
| 連結缺少必要參數 | 顯示提示訊息，告知無法解析分享位置 |
| 座標格式錯誤 | 顯示提示訊息，並維持預設地圖狀態 |
