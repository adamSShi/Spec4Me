# iMap 定位分享功能

> 本文件為「需求理解模擬」用之初步版本  
> 用於協助工程團隊理解功能目標、使用情境與基本行為  
> 非最終規格文件，部分實作細節將於後續討論補齊

---

## 1. 功能概述

### 1.1 功能目的

提供「定位分享」功能，讓使用者能將目前地圖所顯示的位置分享給他人。  
接收者點擊分享連結後，可直接開啟 iMap，並看到相同的位置畫面。

此功能同時具備以下價值：

- **降低溝通成本**：在沒有明確地址或地標時，也能精準描述位置  
- **平台導流**：透過分享連結，引導接收者進入 iMap 平台  
- **提升使用體驗**：避免接收者手動搜尋或重新定位

---

## 2. 目標使用者

- 所有 iMap 使用者
  - 一般市民（分享集合地點、活動位置）
  - 通勤族（分享目前所在位置）

---

## 3. 名詞定義

| 名稱 | 說明 |
|----|----|
| 定位分享 | 使用者將「目前地圖中心位置」產生分享連結 |
| 分享介面 | 使用者點擊分享後，系統顯示的分享操作面板 |
| 圖釘 | 地圖正中央顯示的定位標記 |

---

## 4. 使用者故事

### 故事 1：定位分享

**作為一位 iMap 使用者**  
我希望能分享地圖上目前顯示的位置連結  
以便在沒有明確地址或地標的情況下，仍能讓他人快速找到該位置。

#### 使用情境
使用者在地圖上移動至欲分享的位置，  
點擊「分享」後，將連結傳送給親友。

#### 關鍵價值
- 解決「非地標位置」難以描述的問題  
- 提供快速、直覺的分享方式

---

### 故事 2：接收分享連結

**作為一位分享連結的接收者**  
我希望點擊連結後，能直接開啟 iMap，並看到分享者所指定的位置  
以便我不需要額外操作，就能理解對方的位置。

#### 使用情境
接收者在通訊軟體中點擊分享連結，  
瀏覽器開啟 iMap，地圖自動定位至指定位置。

#### 關鍵價值
- 降低操作門檻
- 提供流暢的使用體驗

---

## 5. 功能範圍

### 5.1 支援的分享類型

| 類型 | 說明 |
|----|----|
| 定位分享 | 分享目前地圖中心位置 |

> 本階段僅支援「定位分享」，不包含特定設施或資訊卡分享

---

## 6. 功能流程

### 6.1 定位分享流程（分享方）

1. 使用者開啟 iMap
2. 移動地圖至欲分享的位置
3. 點擊地圖上的「分享」按鈕
4. 系統顯示分享介面
5. 使用者複製連結或透過其他 App 分享

---

### 6.2 接收分享流程（接收方）

1. 接收者點擊分享連結
2. 瀏覽器開啟 iMap
3. 系統解析連結參數
4. 地圖自動移動至指定位置
5. 地圖顯示該位置的定位標記

---

## 7. 分享連結格式（初步）

### 7.1 定位分享連結


| 參數 | 說明 |
|----|----|
| lat | 緯度 |
| lng | 經度 |

---

## 8. 驗收標準

### 8.1 定位分享

| 項目 | 說明 |
|----|----|
| 分享入口 | 地圖畫面中可觸發分享功能 |
| 產生連結 | 系統可產生包含座標資訊的分享連結 |
| 連結可用 | 點擊連結可正確開啟 iMap |
| 自動定位 | 地圖可依連結參數自動移動至指定位置 |
| 定位標記 | 地圖上可明確標示分享位置 |

---

## 9. 錯誤處理

| 情境 | 預期行為 |
|----|----|
| 連結缺少必要參數 | 顯示提示訊息，告知無法解析分享位置 |
| 座標格式錯誤 | 顯示提示訊息，並維持預設地圖狀態 |

---

## 10. 備註

- 本文件僅描述「使用者可理解的行為與目標」
- 介面樣式、技術實作、資料來源等細節，將由工程團隊於後續階段補充與討論
